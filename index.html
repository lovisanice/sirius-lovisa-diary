<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siriusï¼†Lovisa - æ‹çˆ±æ—¥å¸¸</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        :root {
            --primary-black: #0f0f0f;
            --dark-bg: #1a1a1a;
            --card-bg: #252525;
            --light-gray: #3a3a3a;
            --accent-pink: #ff4d94;
            --neon-pink: #ff6b9d;
            --soft-pink: #ff8ab5;
            --text-light: #f0f0f0;
            --text-gray: #b0b0b0;
            --blue-verified: #1d9bf0;
            --success-green: #10b981;
            --warning-orange: #f59e0b;
        }

        body {
            background-color: var(--primary-black);
            color: var(--text-light);
            min-height: 100vh;
            padding-bottom: 40px;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 15px;
            display: flex;
            flex-direction: column;
            min-height: calc(100vh - 40px);
        }

        /* å¤´éƒ¨åŒºåŸŸ */
        .header {
            position: relative;
            margin-bottom: 20px;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
        }

        .cover-container {
            height: 200px;
            background: linear-gradient(135deg, var(--primary-black), var(--light-gray));
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cover-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        .cover-upload {
            position: absolute;
            bottom: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--soft-pink);
            z-index: 2;
        }

        .profile-section {
            padding: 0 20px 20px;
            background-color: var(--dark-bg);
            position: relative;
        }

        .profile-row {
            display: flex;
            justify-content: space-between;
            margin-top: -50px;
            align-items: flex-end;
            margin-bottom: 15px;
        }

        .avatar-container {
            position: relative;
            width: 120px;
            height: 120px;
            border-radius: 50%;
            border: 5px solid var(--dark-bg);
            background: linear-gradient(135deg, var(--primary-black), var(--light-gray));
            overflow: hidden;
        }

        .avatar-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: none;
        }

        .avatar-upload {
            position: absolute;
            bottom: 5px;
            right: 5px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--soft-pink);
            z-index: 2;
        }

        .profile-actions {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            border: none;
            transition: all 0.3s ease;
        }

        .follow-btn {
            background-color: var(--accent-pink);
            color: white;
        }

        .follow-btn:hover {
            background-color: var(--neon-pink);
            transform: translateY(-2px);
        }

        .message-btn {
            background-color: transparent;
            color: var(--accent-pink);
            border: 1px solid var(--accent-pink);
        }

        .message-btn:hover {
            background-color: rgba(255, 77, 148, 0.1);
        }

        .user-info {
            margin-bottom: 20px;
        }

        .username {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .verified-badge {
            color: var(--blue-verified);
            font-size: 20px;
        }

        .bio {
            color: var(--text-gray);
            line-height: 1.5;
            margin-bottom: 10px;
        }

        .bio-highlight {
            color: var(--soft-pink);
        }

        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
        }

        .stat {
            display: flex;
            flex-direction: column;
        }

        .stat-value {
            font-size: 20px;
            font-weight: 700;
        }

        .stat-label {
            font-size: 14px;
            color: var(--text-gray);
        }

        /* å‘å¸ƒåŒºåŸŸ */
        .post-creator {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }

        .post-input {
            width: 100%;
            min-height: 100px;
            background-color: transparent;
            border: none;
            color: var(--text-light);
            font-size: 16px;
            resize: vertical;
            margin-bottom: 15px;
            outline: none;
        }

        .post-input::placeholder {
            color: var(--text-gray);
        }

        .post-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .media-actions {
            display: flex;
            gap: 15px;
        }

        .media-btn {
            background-color: transparent;
            border: none;
            color: var(--accent-pink);
            font-size: 20px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .media-btn:hover {
            color: var(--neon-pink);
        }

        .post-btn {
            background-color: var(--accent-pink);
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .post-btn:hover {
            background-color: var(--neon-pink);
            transform: translateY(-2px);
        }

        .post-btn:disabled {
            background-color: var(--light-gray);
            cursor: not-allowed;
            transform: none;
        }

        .preview-image {
            margin-top: 15px;
            border-radius: 10px;
            overflow: hidden;
            max-height: 200px;
            display: flex;
            justify-content: center;
            position: relative;
        }

        .preview-image img {
            max-width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 10px;
        }

        .remove-preview {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            cursor: pointer;
            border: none;
        }

        /* åŠ¨æ€åŒºåŸŸ */
        .posts-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }

        .post {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
        }

        .post-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .post-user {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .post-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
        }

        .post-user-info h4 {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .post-time {
            font-size: 12px;
            color: var(--text-gray);
        }

        .post-delete {
            background-color: transparent;
            border: none;
            color: var(--text-gray);
            cursor: pointer;
            font-size: 18px;
            transition: color 0.3s ease;
        }

        .post-delete:hover {
            color: var(--accent-pink);
        }

        .post-content {
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .post-image {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 15px;
            max-height: 300px;
            object-fit: cover;
        }

        .post-stats {
            display: flex;
            justify-content: space-between;
            color: var(--text-gray);
            font-size: 14px;
            padding-top: 10px;
            border-top: 1px solid var(--light-gray);
        }

        .post-likes {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .post-likes:hover {
            color: var(--accent-pink);
        }

        .post-likes.liked {
            color: var(--accent-pink);
        }

        /* æ•°æ®å¤‡ä»½åŒºåŸŸ - ä½œä¸ºæ™®é€šå†…å®¹å— */
        .backup-section {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.3);
            border-left: 4px solid var(--accent-pink);
            margin-top: 10px;
            margin-bottom: 30px;
        }

        .backup-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 18px;
            color: var(--soft-pink);
        }

        .backup-actions {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
        }

        .backup-btn {
            flex: 1;
            padding: 12px 20px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: all 0.3s ease;
        }

        .export-btn {
            background-color: var(--success-green);
            color: white;
        }

        .export-btn:hover {
            background-color: #0da271;
            transform: translateY(-2px);
        }

        .import-btn {
            background-color: var(--warning-orange);
            color: white;
        }

        .import-btn:hover {
            background-color: #e59409;
            transform: translateY(-2px);
        }

        .backup-info {
            padding-top: 15px;
            border-top: 1px solid var(--light-gray);
            color: var(--text-gray);
            font-size: 14px;
            line-height: 1.5;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .cover-container {
                height: 150px;
            }
            
            .profile-row {
                margin-top: -40px;
            }
            
            .avatar-container {
                width: 100px;
                height: 100px;
            }
            
            .username {
                font-size: 20px;
            }
            
            .stat-value {
                font-size: 18px;
            }
            
            .post-creator, .post, .backup-section {
                padding: 15px;
            }
            
            .backup-actions {
                flex-direction: column;
            }
            
            .backup-btn {
                width: 100%;
            }
        }

        /* ä¸Šä¼ æŒ‰é’®éšè— */
        #avatar-upload, #cover-upload, #image-upload, #import-file {
            display: none;
        }

        /* åŠ è½½åŠ¨ç”» */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--accent-pink);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ç©ºçŠ¶æ€ */
        .empty-state {
            text-align: center;
            padding: 40px 20px;
            color: var(--text-gray);
        }

        .empty-state i {
            font-size: 50px;
            margin-bottom: 15px;
            color: var(--light-gray);
        }

        /* æµªæ¼«ç‚¹ç¼€ */
        .romantic-decoration {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .heart {
            position: absolute;
            color: rgba(255, 107, 157, 0.1);
            font-size: 24px;
            animation: float 8s linear infinite;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.3;
            }
            90% {
                opacity: 0.3;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }
        
        /* æ¨¡æ€æ¡†æ ·å¼ */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }
        
        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal {
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 25px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            transform: translateY(-20px);
            transition: transform 0.3s ease;
        }
        
        .modal-overlay.active .modal {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--light-gray);
        }
        
        .modal-title {
            font-size: 20px;
            color: var(--soft-pink);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .modal-close {
            background: none;
            border: none;
            color: var(--text-gray);
            font-size: 24px;
            cursor: pointer;
            line-height: 1;
        }
        
        .modal-content {
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }
        
        .modal-btn {
            padding: 10px 20px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .modal-btn.confirm {
            background-color: var(--accent-pink);
            color: white;
        }
        
        .modal-btn.cancel {
            background-color: var(--light-gray);
            color: white;
        }
        
        /* é¡µé¢åº•éƒ¨æç¤º */
        .page-end {
            text-align: center;
            color: var(--text-gray);
            font-size: 14px;
            margin-top: 10px;
            margin-bottom: 30px;
            padding: 15px;
            border-top: 1px solid var(--light-gray);
        }
    </style>
</head>
<body>
    <!-- æµªæ¼«èƒŒæ™¯ç‚¹ç¼€ -->
    <div class="romantic-decoration" id="decoration"></div>
    
    <!-- ç¡®è®¤æ¨¡æ€æ¡† -->
    <div class="modal-overlay" id="confirm-modal">
        <div class="modal">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span id="modal-title">ç¡®è®¤æ“ä½œ</span>
                </div>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-content" id="modal-content">
                æ‚¨ç¡®å®šè¦æ‰§è¡Œæ­¤æ“ä½œå—ï¼Ÿ
            </div>
            <div class="modal-actions">
                <button class="modal-btn cancel" id="modal-cancel">å–æ¶ˆ</button>
                <button class="modal-btn confirm" id="modal-confirm">ç¡®è®¤</button>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- å¤´éƒ¨åŒºåŸŸ -->
        <header class="header">
            <div class="cover-container">
                <div class="cover-placeholder">å°é¢å›¾</div>
                <img id="cover-img" class="cover-image" alt="å°é¢">
                <label for="cover-upload" class="cover-upload">
                    <i class="fas fa-camera"></i>
                </label>
                <input type="file" id="cover-upload" accept="image/*">
            </div>
            
            <div class="profile-section">
                <div class="profile-row">
                    <div class="avatar-container">
                        <div class="avatar-placeholder">å¤´åƒ</div>
                        <img id="avatar-img" class="avatar-image" alt="å¤´åƒ">
                        <label for="avatar-upload" class="avatar-upload">
                            <i class="fas fa-camera"></i>
                        </label>
                        <input type="file" id="avatar-upload" accept="image/*">
                    </div>
                    
                    <div class="profile-actions">
                        <button class="action-btn follow-btn">
                            <i class="fas fa-heart"></i> Following
                        </button>
                        <button class="action-btn message-btn">
                            <i class="fas fa-envelope"></i> ç§ä¿¡
                        </button>
                    </div>
                </div>
                
                <div class="user-info">
                    <h1 class="username">
                        Siriusï¼†Lovisa
                        <i class="fas fa-check-circle verified-badge"></i>
                    </h1>
                    <p class="bio">
                        è®°å½•Siriuså’ŒLovisaçš„å¿ƒåŠ¨æ—¥å¸¸ã€‚<span class="bio-highlight">ğŸ”</span><br>
                        <span class="bio-highlight">ğŸ”—onlyfans.com/Sirius-Lovisa</span>
                    </p>
                </div>
                
                <div class="stats">
                    <div class="stat">
                        <span class="stat-value" id="post-count">520</span>
                        <span class="stat-label">Posts</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">999K</span>
                        <span class="stat-label">Fans</span>
                    </div>
                    <div class="stat">
                        <span class="stat-value">1</span>
                        <span class="stat-label">Following</span>
                    </div>
                </div>
            </div>
        </header>

        <!-- å‘å¸ƒåŠ¨æ€åŒºåŸŸ -->
        <section class="post-creator">
            <textarea class="post-input" id="post-text" placeholder="è®°å½•ä½ å’ŒSirius/Lovisaçš„æµªæ¼«æ—¶åˆ»..."></textarea>
            
            <div id="image-preview" class="preview-image"></div>
            
            <div class="post-actions">
                <div class="media-actions">
                    <label for="image-upload" class="media-btn">
                        <i class="fas fa-image"></i>
                    </label>
                    <input type="file" id="image-upload" accept="image/*">
                    <button class="media-btn">
                        <i class="fas fa-heart"></i>
                    </button>
                    <button class="media-btn">
                        <i class="fas fa-map-marker-alt"></i>
                    </button>
                </div>
                
                <button class="post-btn" id="publish-btn">å‘å¸ƒ</button>
            </div>
        </section>

        <!-- åŠ¨æ€åˆ—è¡¨ -->
        <section class="posts-container" id="posts-container">
            <!-- åŠ¨æ€å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            <div class="empty-state" id="empty-state">
                <i class="fas fa-feather-alt"></i>
                <h3>æš‚æ— åŠ¨æ€</h3>
                <p>å‘å¸ƒç¬¬ä¸€æ¡æµªæ¼«è®°å½•å§ï¼</p>
            </div>
        </section>
        
        <!-- æ•°æ®å¤‡ä»½åŒºåŸŸ - ä½œä¸ºæ™®é€šå†…å®¹å—æ”¾åœ¨åŠ¨æ€åˆ—è¡¨ä¹‹å -->
        <section class="backup-section">
            <div class="backup-title">
                <i class="fas fa-shield-alt"></i>
                <span>æ•°æ®å¤‡ä»½ä¸æ¢å¤</span>
            </div>
            <div class="backup-actions">
                <button class="backup-btn export-btn" id="export-btn">
                    <i class="fas fa-download"></i>
                    <span>å¯¼å‡ºå…¨éƒ¨æ•°æ®</span>
                </button>
                <button class="backup-btn import-btn" id="import-btn">
                    <i class="fas fa-upload"></i>
                    <span>ä»å¤‡ä»½æ¢å¤</span>
                </button>
            </div>
            <div class="backup-info">
                <p><i class="fas fa-info-circle"></i> æ•°æ®ä¼šè‡ªåŠ¨ä¿å­˜åœ¨æµè§ˆå™¨ä¸­ã€‚å»ºè®®æ¯å‘¨å¤‡ä»½ä¸€æ¬¡ï¼Œå¹¶å°†å¤‡ä»½æ–‡ä»¶ä¿å­˜åˆ°iCloud Driveã€‚</p>
                <p>ä¸Šæ¬¡å¤‡ä»½: <span id="last-backup">ä»æœªå¤‡ä»½</span></p>
            </div>
            <input type="file" id="import-file" accept=".json">
        </section>
        
        <!-- é¡µé¢åº•éƒ¨æç¤º -->
        <div class="page-end">
            <i class="fas fa-heart" style="color: var(--accent-pink);"></i>
            <span>Siriusï¼†Lovisa æ‹çˆ±æ—¥è®° - è®°å½•æ¯ä¸€ä¸ªå¿ƒåŠ¨ç¬é—´</span>
        </div>
    </div>

    <script>
        // ç”Ÿæˆæµªæ¼«èƒŒæ™¯ç‚¹ç¼€
        function createRomanticDecoration() {
            const decoration = document.getElementById('decoration');
            const heartsCount = 15;
            
            for (let i = 0; i < heartsCount; i++) {
                const heart = document.createElement('div');
                heart.classList.add('heart');
                heart.innerHTML = 'â™¥';
                heart.style.left = `${Math.random() * 100}%`;
                heart.style.animationDelay = `${Math.random() * 5}s`;
                heart.style.fontSize = `${Math.random() * 20 + 15}px`;
                decoration.appendChild(heart);
            }
        }

        // æ¨¡æ‹Ÿåˆå§‹æ•°æ® - å·²æ·»åŠ è¯„è®ºæ•°
        let posts = [
            {
                id: 1,
                text: "ä»Šå¤©å’ŒLovisaä¸€èµ·çœ‹äº†æ—¥è½ï¼Œç²‰è‰²çš„å¤©ç©ºå°±åƒå¥¹çš„ç¬‘å®¹ä¸€æ ·æ¸©æš–ã€‚ğŸŒ‡",
                time: "2å°æ—¶å‰",
                likes: 10245,
                comments: 684,
                liked: false,
                avatar: "default"
            },
            {
                id: 2,
                text: "Siriusä¸ºæˆ‘å‡†å¤‡çš„æƒŠå–œæ™šé¤ï¼Œçƒ›å…‰ä¸‹çš„ä»–æ ¼å¤–è¿·äººã€‚ğŸ•¯ï¸",
                time: "1å¤©å‰",
                likes: 18512,
                comments: 1234,
                liked: true,
                avatar: "default",
                image: "https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2069&q=80"
            },
            {
                id: 3,
                text: "çºªå¿µæˆ‘ä»¬åœ¨ä¸€èµ·çš„520å¤©ã€‚æ¯ä¸€å¤©éƒ½å› ä¸ºæœ‰ä½ è€Œç‰¹åˆ«ã€‚ğŸ’–",
                time: "3å¤©å‰",
                likes: 25203,
                comments: 1680,
                liked: false,
                avatar: "default"
            }
        ];

        // ä»localStorageåŠ è½½æ•°æ®
        function loadData() {
            const savedPosts = localStorage.getItem('siriusLovisaPosts');
            const savedAvatar = localStorage.getItem('siriusLovisaAvatar');
            const savedCover = localStorage.getItem('siriusLovisaCover');
            const lastBackup = localStorage.getItem('siriusLovisaLastBackup');
            
            if (savedPosts) {
                const parsedPosts = JSON.parse(savedPosts);
                // ç¡®ä¿æ—§æ•°æ®æœ‰è¯„è®ºæ•°å­—æ®µ
                posts = parsedPosts.map(post => {
                    if (!post.hasOwnProperty('comments')) {
                        // ä¸ºæ—§æ•°æ®ç”Ÿæˆåˆç†çš„è¯„è®ºæ•°ï¼ˆç‚¹èµæ•°çš„1/20åˆ°1/10ä¹‹é—´ï¼‰
                        const commentRatio = 0.05 + Math.random() * 0.05;
                        post.comments = Math.floor(post.likes * commentRatio);
                    }
                    return post;
                });
            }
            
            if (savedAvatar) {
                document.getElementById('avatar-img').src = savedAvatar;
                document.getElementById('avatar-img').style.display = 'block';
                document.querySelector('.avatar-placeholder').style.display = 'none';
            }
            
            if (savedCover) {
                document.getElementById('cover-img').src = savedCover;
                document.getElementById('cover-img').style.display = 'block';
                document.querySelector('.cover-placeholder').style.display = 'none';
            }
            
            if (lastBackup) {
                document.getElementById('last-backup').textContent = new Date(lastBackup).toLocaleString('zh-CN');
            }
            
            updatePostCount();
            renderPosts();
        }

        // ä¿å­˜æ•°æ®åˆ°localStorage
        function saveData() {
            localStorage.setItem('siriusLovisaPosts', JSON.stringify(posts));
        }

        // æ›´æ–°å¸–å­æ•°é‡
        function updatePostCount() {
            document.getElementById('post-count').textContent = posts.length;
        }

        // æ¸²æŸ“å¸–å­åˆ—è¡¨
        function renderPosts() {
            const postsContainer = document.getElementById('posts-container');
            const emptyState = document.getElementById('empty-state');
            
            // æ¸…ç©ºå®¹å™¨ï¼ˆä¿ç•™ç©ºçŠ¶æ€å…ƒç´ ï¼‰
            postsContainer.innerHTML = '';
            postsContainer.appendChild(emptyState);
            
            if (posts.length === 0) {
                emptyState.style.display = 'block';
                return;
            }
            
            emptyState.style.display = 'none';
            
            // æŒ‰æ—¶é—´å€’åºæ’åˆ—
            const sortedPosts = [...posts].sort((a, b) => b.id - a.id);
            
            sortedPosts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'post';
                postElement.id = `post-${post.id}`;
                
                // è·å–ç”¨æˆ·å¤´åƒ
                const avatarImg = document.getElementById('avatar-img').style.display === 'block' 
                    ? document.getElementById('avatar-img').src 
                    : '';
                
                // æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º
                const formatNumber = (num) => {
                    if (num >= 10000) {
                        return (num / 10000).toFixed(1) + 'ä¸‡';
                    }
                    if (num >= 1000) {
                        return (num / 1000).toFixed(1) + 'åƒ';
                    }
                    return num.toString();
                };
                
                // æ„å»ºå¸–å­HTML
                postElement.innerHTML = `
                    <div class="post-header">
                        <div class="post-user">
                            ${avatarImg ? `<img src="${avatarImg}" class="post-avatar" alt="å¤´åƒ">` : '<div class="post-avatar" style="background: linear-gradient(135deg, #0f0f0f, #3a3a3a);"></div>'}
                            <div class="post-user-info">
                                <h4>Siriusï¼†Lovisa <i class="fas fa-check-circle verified-badge" style="font-size: 14px;"></i></h4>
                                <div class="post-time">${post.time}</div>
                            </div>
                        </div>
                        <button class="post-delete" onclick="deletePost(${post.id})">
                            <i class="fas fa-trash-alt"></i>
                        </button>
                    </div>
                    <div class="post-content">${post.text}</div>
                    ${post.image ? `<img src="${post.image}" class="post-image" alt="åŠ¨æ€å›¾ç‰‡">` : ''}
                    <div class="post-stats">
                        <div class="post-likes ${post.liked ? 'liked' : ''}" onclick="toggleLike(${post.id})">
                            <i class="fas fa-heart"></i> <span>${formatNumber(post.likes)}</span>
                        </div>
                        <div>
                            <i class="fas fa-comment"></i> <span>${formatNumber(post.comments)}</span>
                        </div>
                    </div>
                `;
                
                postsContainer.appendChild(postElement);
            });
        }

        // å‘å¸ƒæ–°å¸–å­ - å·²ä¿®æ”¹ä¸ºç”Ÿæˆéšæœºç‚¹èµè¯„è®ºæ•°
        function publishPost() {
            const postText = document.getElementById('post-text').value.trim();
            const imagePreview = document.getElementById('image-preview');
            const imageElement = imagePreview.querySelector('img');
            
            if (!postText && !imageElement) {
                showNotification('è¯·è¾“å…¥å†…å®¹æˆ–æ·»åŠ å›¾ç‰‡', 'warning');
                return;
            }
            
            // ç”Ÿæˆéšæœºç‚¹èµæ•°ï¼ˆ3000-30000ä¹‹é—´ï¼‰
            const randomLikes = Math.floor(Math.random() * 27001) + 3000;
            // ç”Ÿæˆéšæœºè¯„è®ºæ•°ï¼ˆç‚¹èµæ•°çš„1/30åˆ°1/10ä¹‹é—´ï¼‰
            const commentRatio = (1/30) + Math.random() * (1/10 - 1/30);
            const randomComments = Math.floor(randomLikes * commentRatio);
            
            const newPost = {
                id: posts.length > 0 ? Math.max(...posts.map(p => p.id)) + 1 : 1,
                text: postText,
                time: "åˆšåˆš",
                likes: randomLikes,
                comments: randomComments,
                liked: false,
                avatar: "default"
            };
            
            // å¦‚æœæœ‰å›¾ç‰‡
            if (imageElement) {
                newPost.image = imageElement.src;
            }
            
            posts.push(newPost);
            saveData();
            renderPosts();
            updatePostCount();
            
            // æ¸…ç©ºå‘å¸ƒåŒºåŸŸ
            document.getElementById('post-text').value = '';
            imagePreview.innerHTML = '';
            
            // æ˜¾ç¤ºå‘å¸ƒæˆåŠŸæç¤º
            showNotification('åŠ¨æ€å‘å¸ƒæˆåŠŸï¼', 'success');
        }

        // åˆ é™¤å¸–å­
        function deletePost(postId) {
            showConfirmModal(
                'åˆ é™¤åŠ¨æ€',
                'ç¡®å®šè¦åˆ é™¤è¿™æ¡åŠ¨æ€å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚',
                () => {
                    posts = posts.filter(post => post.id !== postId);
                    saveData();
                    renderPosts();
                    updatePostCount();
                    showNotification('åŠ¨æ€å·²åˆ é™¤', 'success');
                }
            );
        }

        // ç‚¹èµ/å–æ¶ˆç‚¹èµ
        function toggleLike(postId) {
            const post = posts.find(p => p.id === postId);
            if (!post) return;
            
            post.liked = !post.liked;
            // ç‚¹èµæ—¶å¢åŠ 100-500ä¸ªèµï¼Œå–æ¶ˆæ—¶å‡å°‘
            const change = post.liked ? Math.floor(Math.random() * 401) + 100 : -Math.floor(Math.random() * 401) - 100;
            post.likes = Math.max(0, post.likes + change);
            
            saveData();
            
            // æ›´æ–°UI
            const postElement = document.getElementById(`post-${postId}`);
            if (postElement) {
                const likeElement = postElement.querySelector('.post-likes');
                likeElement.classList.toggle('liked');
                
                // é‡æ–°æ ¼å¼åŒ–æ•°å­—æ˜¾ç¤º
                const formatNumber = (num) => {
                    if (num >= 10000) {
                        return (num / 10000).toFixed(1) + 'ä¸‡';
                    }
                    if (num >= 1000) {
                        return (num / 1000).toFixed(1) + 'åƒ';
                    }
                    return num.toString();
                };
                
                likeElement.querySelector('span').textContent = formatNumber(post.likes);
            }
        }

        // å¤„ç†å›¾ç‰‡ä¸Šä¼ 
        function handleImageUpload(event, type) {
            const file = event.target.files[0];
            if (!file) return;
            
            if (!file.type.startsWith('image/')) {
                showNotification('è¯·é€‰æ‹©å›¾ç‰‡æ–‡ä»¶', 'warning');
                return;
            }
            
            // æ£€æŸ¥æ–‡ä»¶å¤§å°ï¼ˆé™åˆ¶5MBï¼‰
            if (file.size > 5 * 1024 * 1024) {
                showNotification('å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡5MB', 'warning');
                return;
            }
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const result = e.target.result;
                
                if (type === 'avatar') {
                    document.getElementById('avatar-img').src = result;
                    document.getElementById('avatar-img').style.display = 'block';
                    document.querySelector('.avatar-placeholder').style.display = 'none';
                    localStorage.setItem('siriusLovisaAvatar', result);
                    showNotification('å¤´åƒæ›´æ–°æˆåŠŸ', 'success');
                } else if (type === 'cover') {
                    document.getElementById('cover-img').src = result;
                    document.getElementById('cover-img').style.display = 'block';
                    document.querySelector('.cover-placeholder').style.display = 'none';
                    localStorage.setItem('siriusLovisaCover', result);
                    showNotification('å°é¢æ›´æ–°æˆåŠŸ', 'success');
                } else if (type === 'post') {
                    const preview = document.getElementById('image-preview');
                    preview.innerHTML = `
                        <img src="${result}" alt="é¢„è§ˆå›¾ç‰‡">
                        <button class="remove-preview" onclick="removePreview()">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                }
            };
            
            reader.readAsDataURL(file);
        }

        // ç§»é™¤å›¾ç‰‡é¢„è§ˆ
        function removePreview() {
            document.getElementById('image-preview').innerHTML = '';
            document.getElementById('image-upload').value = '';
        }

        // ==================== å¤‡ä»½ä¸æ¢å¤åŠŸèƒ½ ====================
        
        // å¯¼å‡ºæ‰€æœ‰æ•°æ®
        function exportAllData() {
            const avatar = localStorage.getItem('siriusLovisaAvatar') || '';
            const cover = localStorage.getItem('siriusLovisaCover') || '';
            const postsData = JSON.parse(localStorage.getItem('siriusLovisaPosts') || '[]');
            
            const exportData = {
                version: '1.0',
                exportDate: new Date().toISOString(),
                appName: 'Siriusï¼†Lovisa æ‹çˆ±æ—¥è®°',
                data: {
                    posts: postsData,
                    avatar: avatar,
                    cover: cover
                }
            };
            
            // åˆ›å»ºJSONæ–‡ä»¶
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const downloadUrl = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = downloadUrl;
            link.download = `Sirius-Lovisa-å¤‡ä»½-${new Date().toISOString().split('T')[0]}.json`;
            
            // è§¦å‘ä¸‹è½½
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            
            // æ¸…ç†URL
            setTimeout(() => URL.revokeObjectURL(downloadUrl), 100);
            
            // æ›´æ–°æœ€åå¤‡ä»½æ—¶é—´
            localStorage.setItem('siriusLovisaLastBackup', new Date().toISOString());
            document.getElementById('last-backup').textContent = new Date().toLocaleString('zh-CN');
            
            showNotification('æ•°æ®å¯¼å‡ºæˆåŠŸï¼è¯·å°†å¤‡ä»½æ–‡ä»¶ä¿å­˜åˆ°å®‰å…¨ä½ç½®ã€‚', 'success');
        }
        
        // ä»å¤‡ä»½æ–‡ä»¶æ¢å¤æ•°æ®
        function importFromBackup(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                try {
                    const backupData = JSON.parse(e.target.result);
                    
                    // éªŒè¯å¤‡ä»½æ–‡ä»¶æ ¼å¼
                    if (!backupData.version || !backupData.data) {
                        showNotification('å¤‡ä»½æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®', 'error');
                        return;
                    }
                    
                    showConfirmModal(
                        'æ¢å¤å¤‡ä»½',
                        'æ­¤æ“ä½œå°†ç”¨å¤‡ä»½æ•°æ®æ›¿æ¢å½“å‰æ‰€æœ‰æ•°æ®ã€‚ç¡®å®šè¦ç»§ç»­å—ï¼Ÿ',
                        () => {
                            // æ¢å¤æ•°æ®
                            if (backupData.data.posts) {
                                localStorage.setItem('siriusLovisaPosts', JSON.stringify(backupData.data.posts));
                            }
                            
                            if (backupData.data.avatar) {
                                localStorage.setItem('siriusLovisaAvatar', backupData.data.avatar);
                            }
                            
                            if (backupData.data.cover) {
                                localStorage.setItem('siriusLovisaCover', backupData.data.cover);
                            }
                            
                            // æ›´æ–°æœ€åå¤‡ä»½æ—¶é—´
                            if (backupData.exportDate) {
                                localStorage.setItem('siriusLovisaLastBackup', backupData.exportDate);
                            }
                            
                            // é‡æ–°åŠ è½½æ•°æ®å¹¶æ›´æ–°ç•Œé¢
                            loadData();
                            
                            showNotification('æ•°æ®æ¢å¤æˆåŠŸï¼', 'success');
                        }
                    );
                } catch (error) {
                    console.error('å¯¼å…¥å¤‡ä»½æ—¶å‡ºé”™:', error);
                    showNotification('æ— æ³•è¯»å–å¤‡ä»½æ–‡ä»¶ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼', 'error');
                }
            };
            
            reader.onerror = function() {
                showNotification('è¯»å–æ–‡ä»¶æ—¶å‡ºé”™', 'error');
            };
            
            reader.readAsText(file);
            
            // æ¸…ç©ºinputï¼Œä»¥ä¾¿å†æ¬¡é€‰æ‹©åŒä¸€æ–‡ä»¶
            event.target.value = '';
        }
        
        // ==================== æ¨¡æ€æ¡†åŠŸèƒ½ ====================
        
        let confirmCallback = null;
        
        function showConfirmModal(title, content, callback) {
            document.getElementById('modal-title').textContent = title;
            document.getElementById('modal-content').textContent = content;
            confirmCallback = callback;
            
            const modal = document.getElementById('confirm-modal');
            modal.classList.add('active');
        }
        
        function hideConfirmModal() {
            const modal = document.getElementById('confirm-modal');
            modal.classList.remove('active');
            confirmCallback = null;
        }
        
        // ==================== é€šçŸ¥åŠŸèƒ½ ====================
        
        function showNotification(message, type = 'info') {
            // åˆ›å»ºé€šçŸ¥å…ƒç´ 
            const notification = document.createElement('div');
            
            // æ ¹æ®ç±»å‹è®¾ç½®é¢œè‰²
            let bgColor, icon;
            switch(type) {
                case 'success':
                    bgColor = 'var(--success-green)';
                    icon = 'fas fa-check-circle';
                    break;
                case 'warning':
                    bgColor = 'var(--warning-orange)';
                    icon = 'fas fa-exclamation-triangle';
                    break;
                case 'error':
                    bgColor = '#ef4444';
                    icon = 'fas fa-times-circle';
                    break;
                default:
                    bgColor = 'var(--accent-pink)';
                    icon = 'fas fa-info-circle';
            }
            
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background-color: ${bgColor};
                color: white;
                padding: 15px 20px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
                z-index: 1000;
                display: flex;
                align-items: center;
                gap: 10px;
                animation: slideIn 0.3s ease, fadeOut 0.3s ease 2.7s;
                max-width: 300px;
            `;
            
            notification.innerHTML = `
                <i class="${icon}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            // 3ç§’åç§»é™¤é€šçŸ¥
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }

        // ==================== åˆå§‹åŒ– ====================
        
        document.addEventListener('DOMContentLoaded', function() {
            // åˆ›å»ºæµªæ¼«èƒŒæ™¯
            createRomanticDecoration();
            
            // åŠ è½½æ•°æ®
            loadData();
            
            // å‘å¸ƒæŒ‰é’®äº‹ä»¶
            document.getElementById('publish-btn').addEventListener('click', publishPost);
            
            // å¤´åƒä¸Šä¼ äº‹ä»¶
            document.getElementById('avatar-upload').addEventListener('change', (e) => handleImageUpload(e, 'avatar'));
            
            // å°é¢ä¸Šä¼ äº‹ä»¶
            document.getElementById('cover-upload').addEventListener('change', (e) => handleImageUpload(e, 'cover'));
            
            // åŠ¨æ€å›¾ç‰‡ä¸Šä¼ äº‹ä»¶
            document.getElementById('image-upload').addEventListener('change', (e) => handleImageUpload(e, 'post'));
            
            // è¾“å…¥æ¡†å†…å®¹å˜åŒ–æ—¶å¯ç”¨/ç¦ç”¨å‘å¸ƒæŒ‰é’®
            document.getElementById('post-text').addEventListener('input', function() {
                const text = this.value.trim();
                const imagePreview = document.getElementById('image-preview');
                const hasImage = imagePreview.querySelector('img');
                
                document.getElementById('publish-btn').disabled = !text && !hasImage;
            });
            
            // å¯¼å‡ºæŒ‰é’®äº‹ä»¶
            document.getElementById('export-btn').addEventListener('click', exportAllData);
            
            // å¯¼å…¥æŒ‰é’®äº‹ä»¶
            document.getElementById('import-btn').addEventListener('click', function() {
                document.getElementById('import-file').click();
            });
            
            // å¯¼å…¥æ–‡ä»¶é€‰æ‹©äº‹ä»¶
            document.getElementById('import-file').addEventListener('change', importFromBackup);
            
            // æ¨¡æ‹Ÿå…³æ³¨æŒ‰é’®ç‚¹å‡»
            document.querySelector('.follow-btn').addEventListener('click', function() {
                if (this.innerHTML.includes('Following')) {
                    this.innerHTML = '<i class="fas fa-plus"></i> Follow';
                    this.classList.remove('follow-btn');
                    this.classList.add('message-btn');
                    showNotification('å·²å–æ¶ˆå…³æ³¨', 'info');
                } else {
                    this.innerHTML = '<i class="fas fa-heart"></i> Following';
                    this.classList.remove('message-btn');
                    this.classList.add('follow-btn');
                    showNotification('å…³æ³¨æˆåŠŸï¼', 'success');
                }
            });
            
            // æ¨¡æ€æ¡†äº‹ä»¶
            document.getElementById('modal-close').addEventListener('click', hideConfirmModal);
            document.getElementById('modal-cancel').addEventListener('click', hideConfirmModal);
            document.getElementById('modal-confirm').addEventListener('click', function() {
                if (confirmCallback) {
                    confirmCallback();
                }
                hideConfirmModal();
            });
            
            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            document.getElementById('confirm-modal').addEventListener('click', function(e) {
                if (e.target === this) {
                    hideConfirmModal();
                }
            });
            
            // æ·»åŠ CSSåŠ¨ç”»
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                
                @keyframes fadeOut {
                    from { opacity: 1; }
                    to { opacity: 0; }
                }
            `;
            document.head.appendChild(style);
            
            // æ£€æŸ¥æ˜¯å¦æ˜¯æ–°ç”¨æˆ·
            const isNewUser = !localStorage.getItem('siriusLovisaPosts');
            if (isNewUser) {
                setTimeout(() => {
                    showNotification('æ¬¢è¿ä½¿ç”¨æ‹çˆ±æ—¥è®°ï¼è®°å¾—å®šæœŸå¤‡ä»½æ•°æ®å“¦~', 'info');
                }, 1000);
            }
        });
        
        // æ·»åŠ ä¸€ä¸ªç®€å•çš„å¤‡ä»½æé†’
        setInterval(() => {
            const lastBackup = localStorage.getItem('siriusLovisaLastBackup');
            if (!lastBackup) return;
            
            const lastBackupDate = new Date(lastBackup);
            const daysSinceLastBackup = Math.floor((new Date() - lastBackupDate) / (1000 * 60 * 60 * 24));
            
            if (daysSinceLastBackup >= 7) {
                showNotification('å·²è¶…è¿‡7å¤©æœªå¤‡ä»½ï¼Œå»ºè®®ç«‹å³å¤‡ä»½æ•°æ®ï¼', 'warning');
            }
        }, 1000 * 60 * 60); // æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡
    </script>
</body>
</html>
